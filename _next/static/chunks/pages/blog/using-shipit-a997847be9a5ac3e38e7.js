_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{BtXJ:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return m})),t.d(a,"default",(function(){return u}));var n=t("Fcif"),l=t("dV/x"),o=t("mXGw"),s=t.n(o),r=t("/FXl"),c=t("sQxV"),i=t.n(c),m=(s.a.createElement,{image:"https://images.unsplash.com/photo-1556473062-062e556b0920?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",title:"Stress-free Continuous Delivery with auto",author:"Andrew Lisowski",email:"lisowski54@gmail.com",date:"Thu, 12 Mar 2020 23:00:02 -0700",layout:"blog",__resourcePath:"blog/using-shipit.mdx",__scans:{}}),d={frontMatter:m},b=i.a;function u(e){var a=e.components,t=Object(l.a)(e,["components"]);return Object(r.mdx)(b,Object(n.a)({},d,t,{components:a,mdxType:"MDXLayout"}),Object(r.mdx)("p",null,Object(r.mdx)("inlineCode",{parentName:"p"},"auto")," makes releasing your code a breeze. Instead of manually calculating a version and doing your whole release process manually, ",Object(r.mdx)("inlineCode",{parentName:"p"},"auto")," takes care of it for you."),Object(r.mdx)("p",null,"The main command most users use to interact with ",Object(r.mdx)("inlineCode",{parentName:"p"},"auto")," is the shipit command. shipit does all the heaving lifting when releasing your code."),Object(r.mdx)("p",null,"When run on master it will:"),Object(r.mdx)("ol",null,Object(r.mdx)("li",{parentName:"ol"},"Determine if the last merged PR needs to be released"),Object(r.mdx)("li",{parentName:"ol"},"Update a CHANGELOG.md with all you new changes"),Object(r.mdx)("li",{parentName:"ol"},"Publish to NPM"),Object(r.mdx)("li",{parentName:"ol"},"Make a release on GitHub and mark it as latest")),Object(r.mdx)("p",null,"When run from a PR or locally it will create a canary version."),Object(r.mdx)("hr",null),Object(r.mdx)("h2",{id:"how-does-it-work"},Object(r.mdx)("a",Object(n.a)({parentName:"h2"},{className:'header-link no-underline text-gray-900" hover:underline',href:"#how-does-it-work"}),"How does it\xa0work?")),Object(r.mdx)("p",null,Object(r.mdx)("inlineCode",{parentName:"p"},"auto")," does all this magic through GitHub labels. This makes managing outside contribution super easy. Contributors code, you determine the appropriate label, and ",Object(r.mdx)("inlineCode",{parentName:"p"},"auto")," takes care of the rest."),Object(r.mdx)("p",null,"There are a few types of labels:"),Object(r.mdx)("ol",null,Object(r.mdx)("li",{parentName:"ol"},"Release Labels"),Object(r.mdx)("li",{parentName:"ol"},"Changelog Labels"),Object(r.mdx)("li",{parentName:"ol"},"Arbitrary labels")),Object(r.mdx)("hr",null),Object(r.mdx)("h3",{id:"release-labels"},Object(r.mdx)("a",Object(n.a)({parentName:"h3"},{className:'header-link no-underline text-gray-900" hover:underline',href:"#release-labels"}),"Release Labels")),Object(r.mdx)("p",null,"These labels will help you release semantically versioned packages. If no label is present ",Object(r.mdx)("inlineCode",{parentName:"p"},"auto")," assumes the PR is a patch."),Object(r.mdx)("ul",null,Object(r.mdx)("li",{parentName:"ul"},"major: The PR changes the public API in some way. Create a major release"),Object(r.mdx)("li",{parentName:"ul"},"minor: The PR adds a feature to the public API. Create a minor release"),Object(r.mdx)("li",{parentName:"ul"},"patch: The PR fixes a bug. Create a patch release"),Object(r.mdx)("li",{parentName:"ul"},"skip-release: The PR should not be released. This labels can be used in conjunction with the previous labels for when the PR is actually released"),Object(r.mdx)("li",{parentName:"ul"},"internal: Changes only effect how the app is structured or something that doesn't effect the user. This counts as a patch release")),Object(r.mdx)("h3",{id:"changelog-labels"},Object(r.mdx)("a",Object(n.a)({parentName:"h3"},{className:'header-link no-underline text-gray-900" hover:underline',href:"#changelog-labels"}),"Changelog Labels")),Object(r.mdx)("p",null,"These labels can be used to make your changelogs more expressive. Add them to PRs with release labels to override what changelog section the changes display in. Or use them on their own to just create a patch release."),Object(r.mdx)("p",null,"You can configure more changelog sections, read more here."),Object(r.mdx)("h3",{id:"arbitrary-labels"},Object(r.mdx)("a",Object(n.a)({parentName:"h3"},{className:'header-link no-underline text-gray-900" hover:underline',href:"#arbitrary-labels"}),"Arbitrary labels")),Object(r.mdx)("p",null,Object(r.mdx)("inlineCode",{parentName:"p"},"auto")," doesn't use any extra labels, but you can use whatever labels to power more ",Object(r.mdx)("inlineCode",{parentName:"p"},"auto"),"mated workflows with ",Object(r.mdx)("inlineCode",{parentName:"p"},"auto")," label. This command will return the labels for a PR. Using that information you can choose to run extra CI jobs."),Object(r.mdx)("p",null,"For example,. the following will only run the test:visual script when the PR has has the Visual label."),Object(r.mdx)("pre",{className:"language-bash"},Object(r.mdx)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token builtin class-name"}),"export")," ",Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token assign-left variable"}),Object(r.mdx)("span",Object(n.a)({parentName:"span"},{className:"token environment constant"}),"PATH")),Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token variable"}),Object(r.mdx)("span",Object(n.a)({parentName:"span"},{className:"token variable"}),"$("),Object(r.mdx)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"npm")," bin",Object(r.mdx)("span",Object(n.a)({parentName:"span"},{className:"token variable"}),")")),Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token builtin class-name"}),":"),Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token environment constant"}),"$PATH"),"\n\n",Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"if")," auto label --pr ",Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token variable"}),"$PR_NUMBER")," --exists Visual",Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"then"),"\n    ",Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"npm")," run test:visual\n",Object(r.mdx)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"fi"),"\n")),Object(r.mdx)("hr",null),Object(r.mdx)("h2",{id:"wrapping-up"},Object(r.mdx)("a",Object(n.a)({parentName:"h2"},{className:'header-link no-underline text-gray-900" hover:underline',href:"#wrapping-up"}),"Wrapping Up")),Object(r.mdx)("p",null,"Now that you know all of the above, you have all you need to release every build as the correct version. No longer worry what tag to publish to or what version. You should never really have to run ",Object(r.mdx)("inlineCode",{parentName:"p"},"auto")," yourself, the CI will do that on each build!"),Object(r.mdx)("p",null,"All you have to know is what the labels are and when to use them."),Object(r.mdx)("p",null,"If you have any questions about how to use ",Object(r.mdx)("inlineCode",{parentName:"p"},"auto")," feel free to ask! I hope you guys enjoy the automated release process! \ud83c\udf81"))}u.isMDXComponent=!0},WHjF:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/using-shipit",function(){return t("BtXJ")}])}},[["WHjF",0,1,2,3,5]]]);